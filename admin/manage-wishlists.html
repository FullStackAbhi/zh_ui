<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZVDLT85L8B"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZVDLT85L8B');
</script>
    <script>
        if(localStorage.getItem("loggedInUser") === null && sessionStorage.getItem("loggedInUser") === null) {
            sessionStorage.removeItem("loggedInUser");
            localStorage.removeItem("loggedInUser");
            window.location.href = "/";
        } else {
            let userData = null;
            if (sessionStorage.getItem("loggedInUser") !== null) {
                userData = JSON.parse(sessionStorage.getItem("loggedInUser"));
            } else {
                userData = JSON.parse(localStorage.getItem("loggedInUser"));
            }

            if(!userData.user.token) {
                sessionStorage.removeItem("loggedInUser");
                localStorage.removeItem("loggedInUser");
                window.location.href = "/";
            } else {
                if(userData.user.userType.toLowerCase() != "admin") {
                    sessionStorage.removeItem("loggedInUser");
                    localStorage.removeItem("loggedInUser");
                    window.location.href = "/";
                }
            }
        }
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Manage Wishlists</title>
    
    <!-- ogp -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Zilahouse">
    <meta property="og:description" content="Zilahouse provides a common platform for property buyers & sellers to locate properties of interest in India." />
    <meta property="og:site_name" content="ZILAHOUSE" />
    <meta property="og:url" content="https://zilahouse.com" />
    <meta property="og:image" content="https://zilahouse.com/assets/images/logos/zilahouseOGP.png" />

    <!--Favicon-->
    <link rel="icon" href="/assets/images/favicon.png" type="image/x-icon">

    <!-- Google Analytics -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1175006767696756" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/css/swiper-bundle.min.css">
    <link rel="stylesheet" href="../assets/css/animate.min.css">
    
    <link rel="stylesheet" href="../assets/css/mainStyle.css">
    <link rel="stylesheet" href="../assets/css/headerStyle.css">
    <link rel="stylesheet" href="../assets/css/managePropertiesStyle.css">
    <link rel="stylesheet" href="../assets/css/manageUsersStyle.css">
    <link rel="stylesheet" href="../assets/css/manageWishlistsStyle.css">
    <link rel="stylesheet" href="../assets/css/paginationStyle.css">
    <link rel="stylesheet" href="../assets/css/footerStyle.css">

    <!-- Include Handlebars -->
    <script src="../assets/js/vendor/handlebars.js"></script>

    <script src="../assets/js/main.js" type="module"></script>
</head>
<body>
    <!-- Header -->
    <header id="header-content" class="container-fluid navbar navbar-expand-lg">
    </header> 

    <!-- Manage Wishlists -->
    <div class="container-fluid manage-wishlists manage">
        <div class="container">
            <div class="headline-cont">
                <h3 class="headline">All Wishlists</h3>
            </div>
            <div class="fns">
                <!-- Smart Search -->
                <div class="smart-search-cont">
                    <input type="text" class="form-control" placeholder="Search wishlists by anything..." id="smart-wl-search" autocomplete="off" autofocus>
                </div>

                <!-- Create New User -->
                <button class="cta-filled create-new-wl-btn">Create New Wishlist</button>
            </div>

            <!-- Wishlists list -->
            <div id="wishlist-table-cont" class="table-cont">
                <div class="table-responsive">
                    <table class="wishlists-table table-bordered table">
                        <thead>
                            <tr>
                                <th class="wl-id" style="width: 5%">Id</th>
                                <th class="wl-name" style="width: 60%">Name</th>
                                <th class="wl-prop" style="width: 15%">Properties</th>
                                <th class="wl-users" style="width: 10%">Users</th>
                                <th class="wl-action" style="width: 10%">Action</th>
                            </tr>
                        </thead>
                        <tbody id="wishlists-list-cont">
                            <!-- From templates -->
                        </tbody>
                    </table>
                    <div class="loader-cont"></div>
                </div>
            </div>

            <!-- Pagination -->
            <div id="pagination-cont" class="pagination-cont">
                <!-- From templates -->
            </div>
        </div>
    </div>

    <!-- Footer Section -->
    <footer id="footer-content" class="footer container-fluid">
        <!-- From templates -->
    </footer>

    <!-- Wishlist Manager Bottom Box -->
    <div id="create-wl-box" class="container-fluid create-wl-box bottom-box">
        <!-- from templates -->
    </div>


    <!-- Templates -->
    <!-- Header template -->
    <script src="../assets/js/templates/headerTemplate.js"></script>
    <script id="header-template" type="text/x-handlebars-template">
        {{> header}}
    </script>

    <!-- Pagination template -->
    <script src="../assets/js/templates/paginationTemplate.js"></script>
    <script id="pagination-template" type="text/x-handlebars-template">
        {{> pagination}}
    </script>

    <!-- wishlists list template -->
    <script id="wishlists-list-template" type="text/x-handlebars-template">
        {{#each wl}}
        <tr>
            <td>{{wishlistId}}</td>
            <td>
                <a href="../wishlist.html?id={{wishlistId}}">
                    {{wishlistName}}
                    <ion-icon name="link"></ion-icon>
                </a>
            </td>
            <td>{{adCount}} properties</td>
            <td>
                <a id="assign-wl{{wishlistId}}" class="cta-filled cta-filled-sm assign-wl bg-success" data-id="{{wishlistId}}">Assign</a>
            </td>
            <td>
                <a id="edit-wl{{wishlistId}}" class="cta-filled cta-filled-sm edit-wl bg-primary" data-id="{{wishlistId}}">Edit</a>
            </td>
        </tr>
        {{/each}}
    </script>

    <!-- props list template -->
    <script id="props-list-template" type="text/x-handlebars-template">
        {{#each prop}}
        <tr>
            <td>{{estateId}}</td>
            <td>{{estateTitle}}</td>
            <td>
                <a id="toggle-select-prop{{estateId}}" class="cta-filled cta-filled-sm toggle-select-prop bg-primary" data-id="{{estateId}}">Select</a>
            </td>
        </tr>
        {{/each}}
    </script>

    <!-- Users list template -->
    <script id="users-list-template" type="text/x-handlebars-template">
        {{#each user}}
        <tr>
            <td>{{id}}</td>
            <td>{{displayName}}</td>
            <td>{{mobile}}</td>
            <td>{{emailId}}</td>
            <td>
                <a id="toggle-select-user{{id}}" class="cta-filled cta-filled-sm toggle-select-user bg-primary" data-id="{{id}}">Select</a>
            </td>
        </tr>
        {{/each}}
    </script>

    <!-- Create wishlist template -->
    <script id="create-wl-template" type="text/x-handlebars-template">
        <div class="container create-wl-cont">
            <div class="headline-cont">
                <h4 class="mb-0">Create new wishlist</h4>
                <ion-icon class="close-wl-box close-icon" name="close-outline"></ion-icon>
            </div>
            <form method="POST" onsubmit="event.preventDefault();">
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" name="wl-name" class="form-control wl-name-field" placeholder="Enter wishlist name here..." required>
                        <div class="input-group-append">
                            <button type="submit" class="cta-filled create-wl-submit">Create</button>
                        </div>
                    </div>
                </div>
            </form>

            <!-- Select Props -->
            <div class="wl-props-cont">
                <div class="tab-header">
                    <div class="search-prop-cont">
                        <input type="text" name="search-prop-input" id="search-prop-input" class="form-control search-prop-input" placeholder="Search properties here...">
                    </div>
                    <div class="side-cont">
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="selected-props-only">
                            <label class="custom-control-label" for="selected-props-only">
                                <span>Selected Only</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="tab-body">
                    <div class="table-responsive">
                        <table id="wl-props-table" class="table table-bordered">
                            <thead>
                                <tr>
                                    <th style="width: 5%">Id</th>
                                    <th style="width: 90%">Name</th>
                                    <th style="width: 5%">Action</th>
                                </tr>
                            </thead>
                            <tbody id="wl-props-list-cont">
                                <!-- from templates -->
                            </tbody>
                        </table>
                    </div>
                    <div class="loader-cont"></div>
                </div>
            </div>
        </div>
    </script>

    <!-- Assign wishlist template -->
    <script id="assign-wl-template" type="text/x-handlebars-template">
        <div class="container create-wl-cont assign-wl-cont">
            <div class="headline-cont">
                <h4 class="mb-0">Assign wishlist</h4>
                <ion-icon class="close-wl-box close-icon" name="close-outline"></ion-icon>
            </div>
            <div class="headline-cont">
                <p class="wl-name">{{wishlistName}}</p>
                <button type="submit" class="cta-filled assign-wl-submit">Assign</button>
            </div>

            <!-- Select Props -->
            <div class="wl-users-cont">
                <div class="tab-header">
                    <div class="search-prop-cont">
                        <input type="text" name="search-user-input" id="search-user-input" class="form-control search-user-input" placeholder="Search users here...">
                    </div>
                    <div class="side-cont">
                        <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="selected-users-only">
                            <label class="custom-control-label" for="selected-users-only">
                                <span>Selected Only</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="tab-body">
                    <div class="table-responsive">
                        <table id="wl-users-table" class="table table-bordered">
                            <thead>
                                <tr>
                                    <th style="width: 5%">Id</th>
                                    <th style="width: 50%">Name</th>
                                    <th style="width: 20%">Mobile</th>
                                    <th style="width: 20%">Email</th>
                                    <th style="width: 5%">Action</th>
                                </tr>
                            </thead>
                            <tbody id="wl-users-list-cont">
                                <!-- from templates -->
                            </tbody>
                        </table>
                    </div>
                    <div class="loader-cont"></div>
                </div>
            </div>
        </div>
    </script>


    <!-- Footer template -->
    <script src="../assets/js/templates/footerTemplate.js"></script>
    <script id="footer-template" type="text/x-handlebars-template">
        {{> footer}}
    </script>

    <script src="../assets/js/vendor/jquery.min.js"></script>
    <script src="../assets/js/vendor/popper.min.js"></script>
    <script src="../assets/js/vendor/bootstrap.min.js"></script>
    <script src="../assets/js/vendor/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
</body>
</html>